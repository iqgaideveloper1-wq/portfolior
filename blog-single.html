
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>Blog Post - Ranjithkumar Baluchamy</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">
  <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  
  <!-- PrismJS for Syntax Highlighting -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />

  <!-- Copied styles from blog.html -->
  <style>
    body {
      font-family: "Open Sans", sans-serif;
      color: #272829;
    }
    a { color: #149ddd; text-decoration: none; }
    a:hover { color: #37b3ed; text-decoration: none; }
    h1, h2, h3, h4, h5, h6 { font-family: "Raleway", sans-serif; }
    #main { margin-left: 100px; }
    @media (max-width: 991px) { #main { margin-left: 0; } }
    
    #preloader{position:fixed;top:0;left:0;right:0;bottom:0;z-index:9999;overflow:hidden;background:#fff}
    #preloader:before{content:"";position:fixed;top:calc(50% - 30px);left:calc(50% - 30px);border:6px solid #149ddd;border-top-color:#ecf8fe;border-radius:50%;width:60px;height:60px;animation:animate-preloader 1s linear infinite}
    @keyframes animate-preloader{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
    
    .blog-page { padding-top: 60px; }
    .blog .entry { padding: 30px; margin-bottom: 30px; box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1); }
    .blog .entry .entry-img { max-height: 540px; margin: -30px -30px 20px -30px; overflow: hidden; }
    .blog .entry .entry-title { font-size: 28px; font-weight: bold; padding: 0; margin: 0 0 20px 0; }
    .blog .entry .entry-title a { color: #050d18; transition: 0.3s; }
    .blog .entry .entry-title a:hover { color: #149ddd; }
    .blog .entry .entry-meta { margin-bottom: 15px; color: #37b3ed; }
    .blog .entry .entry-meta ul { display: flex; flex-wrap: wrap; list-style: none; align-items: center; padding: 0; margin: 0; }
    .blog .entry .entry-meta ul li + li::before { display: inline-block; padding-right: 10px; color: #050d18; content: "/"; }
    .blog .entry .entry-meta i { font-size: 16px; margin-right: 8px; line-height: 0; }
    .blog .entry .entry-meta a, .blog .entry .entry-meta .meta-value { color: #777777; font-size: 14px; display: inline-block; line-height: 1; }
    .blog .entry .entry-content p, .blog .entry .entry-content ul li, .blog .entry .entry-content blockquote { line-height: 24px; }
    .blog .entry .entry-content blockquote { border-left: 4px solid #149ddd; padding: 10px 20px; margin: 20px 0; font-style: italic;}
    .blog .sidebar { padding: 30px; margin: 0 0 60px 20px; box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1); }
    .blog .sidebar .sidebar-title { font-size: 20px; font-weight: 700; padding: 0 0 0 0; margin: 0 0 15px 0; color: #050d18; position: relative; }
    .blog .sidebar .sidebar-item { margin-bottom: 30px; }
    .blog .sidebar .search-form form { background: #fff; border: 1px solid #ddd; padding: 3px 10px; position: relative; }
    .blog .sidebar .search-form form input[type=text] { border: 0; padding: 4px; border-radius: 4px; width: calc(100% - 40px); }
    .blog .sidebar .search-form form button { position: absolute; top: 0; right: 0; bottom: 0; border: 0; background: none; font-size: 16px; padding: 0 15px; margin: -1px; background: #149ddd; color: #fff; transition: 0.3s; border-radius: 0 4px 4px 0; line-height: 0; }
    .blog .sidebar .search-form form button:hover { background: #2eafec; }
    .blog .sidebar .categories ul { list-style: none; padding: 0; }
    .blog .sidebar .categories ul li + li { padding-top: 10px; }
    .blog .sidebar .categories ul a { color: #050d18; transition: 0.3s; }
    .blog .sidebar .categories ul a:hover { color: #149ddd; }
    .blog .sidebar .categories ul a span { padding-left: 5px; color: #aaaaaa; font-size: 14px; }
    .blog .sidebar .recent-posts .post-item + .post-item { margin-top: 15px; }
    .blog .sidebar .recent-posts img { width: 80px; float: left; }
    .blog .sidebar .recent-posts h4 { font-size: 15px; margin-left: 95px; font-weight: bold; }
    .blog .sidebar .recent-posts h4 a { color: #050d18; transition: 0.3s; }
    .blog .sidebar .recent-posts h4 a:hover { color: #149ddd; }
    .blog .sidebar .recent-posts time { display: block; margin-left: 95px; font-style: italic; font-size: 14px; color: #aaaaaa; }
    .blog .sidebar .tags { margin-bottom: -10px; }
    .blog .sidebar .tags ul { list-style: none; padding: 0; }
    .blog .sidebar .tags ul li { display: inline-block; }
    .blog .sidebar .tags ul a { color: #838a92; font-size: 14px; padding: 6px 14px; margin: 0 6px 8px 0; border: 1px solid #e4e6e8; display: inline-block; transition: 0.3s; }
    .blog .sidebar .tags ul a:hover { color: #fff; border: 1px solid #149ddd; background: #149ddd; }
    .blog .sidebar .tags ul a span { padding-left: 5px; color: #aaaaaa; font-size: 14px; }
    .breadcrumbs { padding: 15px 0; background: #f5f8fd; min-height: 40px; }
    .breadcrumbs h2 { font-size: 24px; font-weight: 300; }
    .breadcrumbs ol { display: flex; flex-wrap: wrap; list-style: none; padding: 0; margin: 0; font-size: 14px; }
    .breadcrumbs ol li+li { padding-left: 10px; }
    .breadcrumbs ol li+li::before { display: inline-block; padding-right: 10px; color: #6c757d; content: "/"; }
    .mobile-nav-toggle, .navbar { /* Copied styles */ }
    .mobile-nav-toggle{position:fixed;right:15px;top:15px;z-index:9998;border:0;font-size:24px;transition:all .4s;outline:none!important;background-color:#149ddd;color:#fff;width:40px;height:40px;display:none;align-items:center;justify-content:center;line-height:0;border-radius:50px;cursor:pointer}@media (max-width:991px){.mobile-nav-toggle{display:flex}.navbar{position:fixed;top:0;right:0;left:0;bottom:0;background:rgba(5,13,24,.9);transition:all .4s;z-index:9997;transform:translateX(100%);padding:30px;overflow-y:auto}.mobile-nav-active .navbar{transform:translateX(0)}.navbar ul{display:block;position:absolute;top:55px;right:15px;bottom:15px;left:15px;padding:10px 0;border-radius:10px;background-color:#fff;overflow-y:auto;transition:.3s;z-index:9995}.navbar .nav-link{display:flex;align-items:center;justify-content:flex-start;padding:10px 20px;margin:5px 15px;width:auto;height:auto;border-radius:4px;font-size:15px;color:#45505b;background:0 0;box-shadow:none}.navbar .nav-link i{font-size:16px;margin-right:10px;color:#45505b}.navbar .nav-link span{display:inline}.navbar .nav-link:hover,.navbar .nav-link.active{color:#149ddd}.navbar .nav-link:hover i,.navbar .nav-link.active i{color:#149ddd}}
    .blog .entry-footer { padding-top: 10px; border-top: 1px solid #e6e6e6; }
    .blog .entry-footer i { color: #5e6d77; display: inline; }
    .blog .entry-footer .cats { list-style: none; display: inline; padding: 0 20px 0 0; margin: 0; }
    .blog .entry-footer .cats li { display: inline-block; }
    .blog .entry-footer .tags { list-style: none; display: inline; padding: 0; margin: 0; }
    .blog .entry-footer .tags li { display: inline-block; }
    .blog .entry-footer .tags li+li::before { display: inline-block; padding-right: 6px; color: #6c757d; content: ","; }
    .blog .blog-author { padding: 20px; margin-bottom: 30px; box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1); }
    .blog .blog-author img { width: 120px; margin-right: 20px; border-radius: 50%;}
    .blog .blog-author h4 { font-weight: 600; font-size: 22px; margin-bottom: 0px; padding: 0; color: #050d18; }
    #footer{padding:25px 0;background:#f5f8fd;text-align:center;font-size:14px}
    
    /* Custom styles for rendered content */
    .entry-content img { max-width: 100%; height: auto; border-radius: 8px; margin: 15px 0; }
    .entry-content .ce-embed iframe { width: 100%; min-height: 400px; }
    .entry-content pre { border-radius: 8px; }
  </style>
</head>

<body>
  <div id="preloader"></div>

  <!-- Mobile nav toggle button -->
  <i class="bi bi-list mobile-nav-toggle"></i>

  <!-- Sidebar -->
  <nav id="navbar" class="navbar">
    <ul>
      <li><a href="index.html#hero" class="nav-link" title="Home"><i class='bx bx-home'></i> <span>Home</span></a></li>
      <li><a href="index.html#about" class="nav-link" title="About"><i class='bx bx-user'></i> <span>About</span></a></li>
      <li><a href="index.html#skills" class="nav-link" title="Skills"><i class='bx bx-code-alt'></i> <span>Skills</span></a></li>
      <li><a href="index.html#resume" class="nav-link" title="Resume"><i class='bx bx-file-blank'></i> <span>Resume</span></a></li>
      <li><a href="index.html#services" class="nav-link" title="Services"><i class='bx bx-server'></i> <span>Services</span></a></li>
      <li><a href="index.html#portfolio" class="nav-link" title="Portfolio"><i class='bx bx-book-content'></i> <span>Portfolio</span></a></li>
      <li><a href="index.html#achievements" class="nav-link" title="Achievements"><i class='bx bx-award'></i> <span>Achievements</span></a></li>
      <li><a href="index.html#testimonials" class="nav-link" title="Testimonials"><i class='bx bx-comment-detail'></i> <span>Testimonials</span></a></li>
      <li><a href="index.html#contact" class="nav-link" title="Contact"><i class='bx bx-envelope'></i> <span>Contact</span></a></li>
      <li><a href="blog.html" class="nav-link active" title="Blog"><i class='bx bx-news'></i> <span>Blog</span></a></li>
       <li><a href="blog-admin.html" class="nav-link" title="Blog Admin"><i class='bx bx-edit'></i> <span>Blog Admin</span></a></li>
    </ul>
  </nav>

  <main id="main">

    <!-- Breadcrumbs -->
    <section class="breadcrumbs">
      <div class="container">
        <div class="d-flex justify-content-between align-items-center">
          <h2 class="post-title-breadcrumb">Blog Post Details</h2>
          <ol>
            <li><a href="index.html">Home</a></li>
            <li><a href="blog.html">Blog</a></li>
            <li class="post-title-breadcrumb">Post Details</li>
          </ol>
        </div>
      </div>
    </section>

    <section id="blog" class="blog blog-page">
      <div class="container" data-aos="fade-up">

        <div class="row">

          <div class="col-lg-8 entries">
             <!-- Dynamic blog content will be injected here -->
          </div><!-- End blog entries list -->

          <div class="col-lg-4">
             <div class="sidebar">
                <h3 class="sidebar-title">Search</h3>
                <div class="sidebar-item search-form"><form action=""><input type="text"><button type="submit"><i class="bi bi-search"></i></button></form></div>
                <h3 class="sidebar-title">Categories</h3>
                <div class="sidebar-item categories">
                  <ul>
                    <!-- Dynamic categories will be injected here -->
                  </ul>
                </div>
                <h3 class="sidebar-title">Recent Posts</h3>
                <div class="sidebar-item recent-posts">
                  <!-- Dynamic recent posts will be injected here -->
                </div>
                <h3 class="sidebar-title">Tags</h3>
                <div class="sidebar-item tags"><ul><li><a href="#">AI</a></li><li><a href="#">Python</a></li><li><a href="#">Web Dev</a></li><li><a href="#">Full-Stack</a></li><li><a href="#">Design</a></li><li><a href="#">AWS</a></li><li><a href="#">Cloud</a></li><li><a href="#">Automation</a></li><li><a href="#">UI</a></li><li><a href="#">UX</a></li><li><a href="#">TensorFlow</a></li></ul></div>
              </div><!-- End sidebar -->
          </div><!-- End blog sidebar -->

        </div>

      </div>
    </section>

  </main>
  
  <footer id="footer">
    <div class="container">
      <div class="copyright">
        &copy; Copyright <strong><span>MyResume</span></strong>
      </div>
      <div class="credits">
        Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>
      </div>
    </div>
  </footer>

  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
  <script src="blog-data.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      "use strict";
      const select = (el, all = false) => all ? [...document.querySelectorAll(el)] : document.querySelector(el);
      const on = (type, el, listener, all = false) => {
        let selectEl = select(el, all);
        if (selectEl) {
          if (all) {
            selectEl.forEach(e => e.addEventListener(type, listener));
          } else {
            selectEl.addEventListener(type, listener);
          }
        }
      };
      
      let preloader = select('#preloader');
      if (preloader) {
        window.addEventListener('load', () => {
          preloader.remove();
        });
      }
      
      on('click', '.mobile-nav-toggle', function(e) {
        select('body').classList.toggle('mobile-nav-active');
        this.classList.toggle('bi-list');
        this.classList.toggle('bi-x');
      });
      
      AOS.init({
        duration: 1000,
        easing: 'ease-in-out',
        once: true,
        mirror: false
      });

      // --- DYNAMIC BLOG SINGLE LOGIC ---

      function getBlogData() {
        let posts = localStorage.getItem('blogPosts');
        if (!posts) {
          localStorage.setItem('blogPosts', JSON.stringify(blogData));
          return blogData;
        }
        return JSON.parse(posts);
      }
      
      const allPosts = getBlogData();
      const entriesContainer = document.querySelector('.entries');
      const breadcrumbTitles = document.querySelectorAll('.post-title-breadcrumb');

      function formatISODate(dateString) {
          const d = new Date(dateString);
          if (isNaN(d.getTime())) return "2024-01-01";
          const year = d.getFullYear();
          const month = String(d.getMonth() + 1).padStart(2, '0');
          const day = String(d.getDate()).padStart(2, '0');
          return `${year}-${month}-${day}`;
      }

      function escapeHtml(unsafe) {
          return unsafe
              .replace(/&/g, "&amp;")
              .replace(/</g, "&lt;")
              .replace(/>/g, "&gt;")
              .replace(/"/g, "&quot;")
              .replace(/'/g, "&#039;");
      }

      function renderBlocks(blocks) {
          let html = '';
          blocks.forEach(block => {
              switch (block.type) {
                  case 'header':
                      html += `<h${block.data.level}>${block.data.text}</h${block.data.level}>`;
                      break;
                  case 'paragraph':
                      html += `<p>${block.data.text}</p>`;
                      break;
                  case 'list':
                      const listType = block.data.style === 'ordered' ? 'ol' : 'ul';
                      const items = block.data.items.map(item => `<li>${item}</li>`).join('');
                      html += `<${listType}>${items}</${listType}>`;
                      break;
                  case 'image':
                      html += `<figure class="figure w-100 text-center">
                                  <img src="${block.data.url}" class="figure-img img-fluid rounded" alt="${block.data.caption}">
                                  <figcaption class="figure-caption text-center">${block.data.caption}</figcaption>
                              </figure>`;
                      break;
                  case 'embed':
                      html += `<div class="embed-responsive embed-responsive-16by9 my-3 d-flex justify-content-center">
                                  <iframe class="embed-responsive-item" style="max-width: 100%; width: 100%; aspect-ratio: 16/9;" src="${block.data.embed}" allowfullscreen></iframe>
                              </div>`;
                      break;
                  case 'code':
                      html += `<pre><code class="language-plaintext">${escapeHtml(block.data.code)}</code></pre>`;
                      break;
                  case 'delimiter':
                      html += '<hr class="my-4">';
                      break;
                  default:
                      console.log('Unknown block type:', block.type);
                      break;
              }
          });
          return html;
      }

      function renderPost() {
          const params = new URLSearchParams(window.location.search);
          const postId = parseInt(params.get('id'));

          if (!postId) {
              entriesContainer.innerHTML = '<p class="alert alert-danger">Blog post not found. Please select a post from the <a href="blog.html">blog page</a>.</p>';
              return;
          }

          const post = allPosts.find(p => p.id === postId);

          if (!post) {
              entriesContainer.innerHTML = '<p class="alert alert-danger">Blog post not found. Please select a post from the <a href="blog.html">blog page</a>.</p>';
              return;
          }

          document.title = `${post.title} - Ranjithkumar Baluchamy`;
          breadcrumbTitles.forEach(el => el.textContent = post.title);

          const postElement = document.createElement('article');
          postElement.className = 'entry';
          
          let contentHtml = '';
          if (typeof post.content === 'object' && post.content.blocks) {
              contentHtml = renderBlocks(post.content.blocks);
          } else if (typeof post.content === 'string') {
              // Legacy support for old string-based content
              contentHtml = post.content;
          }
          
          postElement.innerHTML = \`
              <div class="entry-img">
                  <img src="${post.image}" alt="${post.title}" class="img-fluid">
              </div>
              <h2 class="entry-title">${post.title}</h2>
              <div class="entry-meta">
                  <ul>
                      <li class="d-flex align-items-center"><i class="bi bi-person"></i> <span class="meta-value">${post.author}</span></li>
                      <li class="d-flex align-items-center"><i class="bi bi-clock"></i> <time datetime="${formatISODate(post.date)}">${post.date}</time></li>
                      <li class="d-flex align-items-center"><i class="bi bi-folder"></i> <span class="meta-value">${post.category}</span></li>
                  </ul>
              </div>
              <div class="entry-content">
                  ${contentHtml}
              </div>
              <div class="entry-footer">
                  <i class="bi bi-folder"></i>
                  <ul class="cats">
                      <li><span class="meta-value">${post.category}</span></li>
                  </ul>
                  <i class="bi bi-tags"></i>
                  <ul class="tags">
                      ${post.tags.map(tag => `<li><a href="#">${tag}</a></li>`).join('')}
                  </ul>
              </div>
          \`;
          entriesContainer.innerHTML = '';
          entriesContainer.appendChild(postElement);

          // Trigger syntax highlighting
          Prism.highlightAll();

          const authorBox = \`
              <div class="blog-author d-flex align-items-center">
                  <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=1974&auto=format&fit=crop&w=120" class="float-left" alt="">
                  <div>
                      <h4>${post.author}</h4>
                      <p>
                          An innovative and passionate developer with experience in creating user-centered applications and automation solutions. Always curious and constantly learning new technologies.
                      </p>
                  </div>
              </div>\`;
          entriesContainer.insertAdjacentHTML('beforeend', authorBox);
      }
      
      function renderSidebar() {
          const categoriesContainer = document.querySelector('.sidebar .categories ul');
          const recentPostsContainer = document.querySelector('.sidebar .recent-posts');

          // Render Categories
          if (categoriesContainer) {
              const categoryCounts = allPosts.reduce((acc, post) => {
                  acc[post.category] = (acc[post.category] || 0) + 1;
                  return acc;
              }, {});

              categoriesContainer.innerHTML = Object.entries(categoryCounts)
                  .map(([category, count]) => `<li><a href="#">${category} <span>(${count})</span></a></li>`)
                  .join('');
          }

          // Render Recent Posts
          if (recentPostsContainer) {
              recentPostsContainer.innerHTML = '';
              const recentPosts = allPosts.slice(-5).reverse(); 
              recentPosts.forEach(post => {
                  const postItem = document.createElement('div');
                  postItem.className = 'post-item clearfix';
                  postItem.innerHTML = \`
                      <img src="${post.image}" alt="${post.title}" style="width: 80px; height: 60px; object-fit: cover;">
                      <h4><a href="blog-single.html?id=${post.id}">${post.title}</a></h4>
                      <time datetime="${formatISODate(post.date)}">${post.date}</time>
                  \`;
                  recentPostsContainer.appendChild(postItem);
              });
          }
      }

      if(entriesContainer) {
        renderPost();
        renderSidebar();
      }

    });
  </script>

</body>
</html>